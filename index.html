<!DOCTYPE html>
<html>
<head>
  <title>FabricJS Workspace</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.2.4/fabric.min.js"></script>
  <style>
    #canvas-container {
      width: 800px;
      height: 600px;
      border: 1px solid #ccc;
      position: relative;
      overflow: hidden;
    }

    #canvas {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <div id="canvas-container">
    <canvas id="canvas"></canvas>
  </div>

  <script>
    var canvas = new fabric.Canvas('canvas', {
      width: 2000,
      height: 1500,
      selection: false,
      backgroundColor: '#f0f0f0',
      viewportTransform: [1, 0, 0, 1, 0, 0]
    });

    var container = document.getElementById('canvas-container');
    var containerWidth = container.offsetWidth;
    var containerHeight = container.offsetHeight;

    canvas.setDimensions({ width: containerWidth, height: containerHeight });

    // Zoom and pan functionality
    var isDragging = false;
    var previousMousePosition = {
      x: 0,
      y: 0
    };

    canvas.on('mouse:down', function(event) {
      isDragging = true;
      previousMousePosition = {
        x: event.e.clientX,
        y: event.e.clientY
      };
    });

    canvas.on('mouse:move', function(event) {
      if (isDragging) {
        var deltaMove = {
          x: event.e.clientX - previousMousePosition.x,
          y: event.e.clientY - previousMousePosition.y
        };

        previousMousePosition = {
          x: event.e.clientX,
          y: event.e.clientY
        };

        canvas.relativePan(deltaMove);
      }
    });

    canvas.on('mouse:up', function() {
      isDragging = false;
    });

    canvas.on('mouse:wheel', function(event) {
      var delta = event.e.deltaY;
      var zoom = canvas.getZoom();
      zoom *= 0.999 ** delta;
      if (zoom > 0.1) {
        canvas.setZoom(zoom);
      }
      event.e.preventDefault();
      event.e.stopPropagation();
    });
  </script>
</body>
</html>
